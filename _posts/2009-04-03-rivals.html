---
title: "Конкуренты"
description: "Есть еще два перца, встраивающих яваскрипт в энжинкс."
categories: [сервер, nginx, spidermonkey, v8]
layout: post
time: 00:30:09
---
<p>За последние три месяца обнаружил на просторах интернета два проекта по снабжению нжинкса яваскриптом. <a href="http://github.com/chrisfarms/nginx_ecmascript_module/">Один</a> из энтузиастов пошел схожим путем и решил встроить SpiderMonkey. <a href="http://code.google.com/p/ngxv8/">Другому</a>, видимо, ближе C++, и он решил обратиться к прекрасному созданию гугла — движку V8. Оба разработчика скоро разочаровались в своих проектах (насколько можно судить по интенсивности коммитов). Но мне важным показалось другое.</p>

<p>Задачей, которую поставили себе эти ребята, стала поддержка запуска нжинксом яваскриптовых файлов (например, встроенных в HTML-код). В принципе, это было бы интересно, если бы нжинкс уже не поддерживал перл с его прорвой библиотек. А найти применение клону ПХП, но на яваскрипте (учитывая, что серверные программеры его просто ненавидят) и без библиотек не ручаюсь совсем.</p>

<p><b>UPD</b>: Был неправ, исправляюсь. Второй парень (японец, скрывающийся под псевдонимом rykomats) оказался не так прост. Он тоже сделал небольшую обертку к структуре запроса, и передает пришедший запрос в функцию из заранее загруженного яваскрипта (на сколько можно понять этот кошмарный C++). Такая конфигурация работает быстро и понятно.</p>

<p>Согласен, обе технологии (spidermonkey &amp; nginx) просто сахарные, и, полюбив их по отдельности, начинаешь подумывать об объединении возлюбленных. Но зачем же все так пошло?</p>

<p>Кстати говоря, если сделать на яваскрипте не обработчик (хендлер) локейшна, а фильтр, то можно распрекрасно и быстро реализовать, например, легко расширяемый клон <a href="http://sysoev.ru/nginx/docs/http/ngx_http_ssi_module.html">SSI</a>, но на яваскрипте. А можно встроить <a href="http://dean.edwards.name/packer/">пакер</a> Дина Эдвардса, и минифаить яваскрипт налету. Можно даже простенький шаблонизатор для джейсона накатать. Но вот делать простую запускалку яваскрипта — этого понять невозможно.</p>

<p><b>UPD2</b>: Вот еще дядька американец <a href="http://github.com/ngerakines/erlang_nginx">встраивает эрланг</a>. Хакеры нжинкса всех стран, обединяйтесь! :)</p>