---
title: "Ручное наследование в яваскрипте"
description: "Внимание! Фигура выполняется собственными руками, без страховки!"
categories: [клиент, javascript, frameworkless]
layout: post
---
<section>
<p>Наследование без фреймворков вызывает панику даже у матерых яваскриптеров. Особенно, если надо не просто добавлять новые методы, а модифицировать поведение родительских. А между тем, процедура очень проста.</p>
</section>


<section>
<h>Просто класс</h>
<pre><code class="javascript">
function A () {}

var a = new A()
</code></pre>

<p>Да, как не удивительно, класс — это просто функция.</p>
</section>


<section>
<h>Безымянный класс</h>
<pre><code class="javascript">
var o = new function () {}
</code></pre>

<p>Да, как не удивительно, классом может быть любая функция. Даже безымянное замыкание право имеет.</p>
</section>


<section>
<h>Класс с методом</h>
<pre><code class="javascript">
function A () {}
A.prototype =
{
	method: function () {}
}

var a = new A()
a.method()
</code></pre>

<p>Методы добавляются с помощью прототипов. Про прототипы мы <a href="http://www.google.com/search?q=javascript+prototype+inheritance">всё уже знаем</a>.</p>
</section>


<section>
<h>«Статический» метод</h>
<pre><code class="javascript">
function A () {}
A.staticMethod = function () {}
A.staticMethod()
</code></pre>

<p>В экземплярах <code>staticMethod</code> доступен не будет.</p>
</section>


<section>
<h>Наследование в вакууме</h>
<pre><code class="javascript">
function A () {}

function B () {}
B.prototype = new A()
</code></pre>

<p>Да, именно <code>= new A()</code>, а не просто <code>= A()</code>.</p>
</section>


<section>
<h>Небесполезное наследование</h>
<pre><code class="javascript">
function A () {}
A.prototype =
{
	methodA: function () {}
}

function B () {}
B.prototype = new A()

var b = new B()
b.methodA()
</code></pre>

<p>Получили в экземпляре класса <code>B</code> полезный <code>methodA()</code> от класса <code>A</code>.</p>
</section>


<section>
<h>Конструктивное наследование</h>
<pre><code class="javascript">
function A ()
{
	this.array = []
}

function B ()
{
	A.call(this)
}
B.prototype = new A()

var b = new B()
b.array[42]
</code></pre>

<p>Если бы не выполнили <code>A.call(this)</code>, то <code>b.array</code> был бы пуст.</p>
</section>

